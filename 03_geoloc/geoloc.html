<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Géolocalisation</title>
    <script>
    function getUserLocation(position) {
        var geoInfos = "Position déterminée : <br />";
        geoInfos += "Latitude : "+ position.coords.latitude + "<br />";
        geoInfos += "Longitude : "+ position.coords.longitude + "<br />";
        geoInfos += "Altitude : "+ position.coords.latitude + "<br />";
        document.getElementById("geolocation").innerHTML=geoInfos;
    };

    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(getUserLocation);
        alert('L\' API de geolocalisation en html5 est disponible');
    } else {
        alert("votre navigateur ne prend pas en compte la géoloc");
    };

    function monitoring(position) {
        var geoInfos = "Position déterminée : <br />";
        geoInfos += "Latitude : "+ position.coords.latitude + "<br />";
        geoInfos += "Longitude : "+ position.coords.longitude + "<br />";
        geoInfos += "Altitude : "+ position.coords.latitude + "<br />";
        geoInfos += "Vitesse : "+ position.coords.speed + "<br />";
        document.getElementById("geolocation").innerHTML = geoInfos;
    };

    // function fail(erreur) {
    //     document.getElementById("geolocation").innerHTML = " Erreur: " + erreur.message;

    //     console.log(erreur);
    // };



    //Fonction de callback en cas d'erreur
    function erreurPosition (error) {
        var info = "Erreur lors de la géolocalisation"
        switch(error.code) {
        case error.TIMEOUT:
            info += "Timeout !";
        break;
        case error.PERMISSION_DENIED:
            info += "Vous n'avez pas la permission !";
        break;
        case error.PERMISSION_UNAVAILABLE:
            info += "La position n'a pas été trouvée !";
        break;
        case error.UNKNOW_ERROR:
            info += "Erreur inconnue !";
        break;
        }
        console.log(info);
    };
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(monitoring,erreurPosition);
        // navigator.geolocation.watchPosition(monitoring);
        //alert('L\' API de geolocalisation en html5 est disponible');
    } else {
        alert("votre navigateur ne prend pas en compte la géoloc");
    };
    </script>
</head>
<body>
    <div id="geolocation">Zone présentant les informations de géolocalisation</div>
</body>
</html>